---
title: "Draft"
author:
  name: Christian Hicks
  url: https://github.com/hicks017
bibliography: resources/references.bib
csl: resources/reference_style_vancouver.csl
format:
  html:
    embed-resources: true
    df-print: kable
    toc: true
    toc-depth: 3
    code-fold: true
    date: 2025-04-13
    date-modified: last-modified
description: An analysis of rule changes recent to 2025 Major League Baseball.
editor: visual
---

## Background

The year 2020 brought big changes to the world, such as how Major League Baseball (MLB) is played. In fact, the five-year span of 2019-2023 had the largest number of rule changes in any other five-year span of MLB history [@inc_mlb_nodate]. These efforts aimed to reduce the length of games, increase scoring, preserve player safety, and increase viewership. The introduction of the three‑batter minimum for relief pitchers in 2020 sought to remove one‑ and two‑batter “specialist” relievers and thereby reduce the number of pitching changes that prolong games [@noauthor_these_nodate; @noauthor_three-batter_nodate; @noauthor_three-batter_nodate-1]. In the same year the league introduced the infamous "Manfred Man", an extra‑innings runner on second base to promote earlier scoring and shorten games stuck in a stalemate [@noauthor_designated_nodate; @noauthor_designated_nodate-3; @noauthor_ghost_2023]. The universal designated hitter eliminated the pitcher’s plate appearance and intended to boost offensive production [@noauthor_designated_nodate-1; @noauthor_designated_nodate-2; @noauthor_new_nodate].

In 2023, MLB continued the offensive and safety initiatives. Bases were increased in size from 15″ to 18″ to shorten the distance between bags, with the dual-purpose of encouraging more stolen‑base attempts and reducing dangerous collisions [@noauthor_base_nodate; @noauthor_base_nodate-1]. The pitch clock and disengagement policy were also deployed to accelerate the game tempo [@noauthor_pitch_nodate; @noauthor_pitch_nodate-1; @noauthor_pitch_nodate-2; @noauthor_balk_nodate; @schofield_pitch_2023]. Finally, restrictions on defensive positioning prevented "the shift", an extreme alignment that countered pull-hitters and reduced their batting‑average‐on‐balls‐in‐play (BABIP) [@noauthor_defensive_nodate; @noauthor_defensive_nodate-1].

While each of these rule changes intends to improve the MLB viewing experiences, their real-world effects require systematic and independent quantification. This analysis leverages publicly available pitch-by-pitch, play-by-play, and other game day datasets to measure key metrics before and after each rule's implementation. Comparing metrics with pre- and post-rule windows aims to provide empirical evidence on the efficacy of MLB's recent innovations and inform future decision-making in professional baseball.

## Methods

### Study Period

This was a retrospective, observational study of MLB rule changes that were implemented during the 2020-2023 seasons. Only MLB regular-season games were included. Minor league games and postseason matchups were excluded.

For each studied rule, the year of implementation defined the boundary between pre-rule and post-rule windows. All seasons prior to implementation, through the start of the 2014 regular season, comprised of the pre-rule window. All seasons from implementation and onward, through the end of the 2024 regular season, comprised of the post-rule period.

The 2020 season was a short season due to the COVID-19 pandemic. Therefore this season was included when analyzing within-game metrics and excluded from season-aggregated metrics.

### Outcomes

Various metrics tailored to each rule change were investigated to perform a robust analysis. These metrics are described alongside the respective rule changes below.

+-------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| Rule change                                                                   | Outcomes to compare pre/post                                                          |
+===============================================================================+=======================================================================================+
| Base stealing encouragements (bigger basements, pitcher disengagement policy) | -   Number of attempted steals by teams per season                                    |
|                                                                               |                                                                                       |
|                                                                               | -   Success rate of steals by teams per season                                        |
+-------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| Extra-innings baserunner                                                      | -   Number of extra innings required to complete a tied game at the 9th inning        |
|                                                                               |                                                                                       |
|                                                                               | -   Number of runs scored during extra innings                                        |
|                                                                               |                                                                                       |
|                                                                               | -   Number of batters needed before first run in extra innings                        |
|                                                                               |                                                                                       |
|                                                                               | -   Final inning in marathon games                                                    |
|                                                                               |                                                                                       |
|                                                                               | -   Total runs in marathon games                                                      |
|                                                                               |                                                                                       |
|                                                                               | -   Batters until first score in marathon games                                       |
+-------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| Pitch clock                                                                   | -   Length of individual plays                                                        |
|                                                                               |                                                                                       |
|                                                                               | -   Combined game duration (action time, excluding non-play time)                     |
+-------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| Universal designated hitter                                                   | -   Number of at-bats by pitcher position versus DH position                          |
|                                                                               |                                                                                       |
|                                                                               | -   On base percentage of pitcher position versus DH position                         |
|                                                                               |                                                                                       |
|                                                                               | -   On-base-plus-slugging of pitcher position versus DH position                      |
+-------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| Defensive shift ban                                                           | -   Team BABIP stat across seasons                                                    |
|                                                                               |                                                                                       |
|                                                                               | -   Outcome of plays (hit, out, etc) when batter makes pull-side contact              |
+-------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
| 3-batter minimum                                                              | -   Number of pitchers used per game                                                  |
|                                                                               |                                                                                       |
|                                                                               | -   Number of pitching changes in the middle of an inning per game                    |
|                                                                               |                                                                                       |
|                                                                               | -   Proportion of games with at least one, two, and three mid-inning pitching changes |
+-------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+

### WIP Statistical analysis

-   Summarize each metric with mean (SD), median (IQR), and range.

-   Pre/post comparisons with two-sample t-tests (not paired because too many variables change such as players, coaches, schedules, weather). 95% confidence intervals for differences in means or proportions.

-   Exclusion of 2020 year when shortened season would affect team statistics.

### WIP Software, reproducibility, and data licensing

All data-retrieval and preprocessing was executed using [Python 3.11.6](https://www.python.org/downloads/release/python-3116/ "Python Release 3.11.6"). The exploration and final analysis were written with [R 4.4.3](https://cran.r-project.org/bin/windows/base/old/4.4.3/ "CRAN - R 4.4.3") within a lightweight Docker container. Versioned scripts and written reports were saved on a public [GitHub repository](https://github.com/hicks017/MLB-rule-changes "MLB Rule Changes - Christian Hicks") to ensure transparency.

Raw data originated from the free, official [MLB Stats API.](https://statsapi.mlb.com/api/ "MLB Stats API") No personal player data or personally identifiable information were used.

```{r}
#| code-summary: Packages
#| message: false

library(readr)
library(dplyr)
library(tidyr)
library(tibble)
library(ggplot2)
library(broom)
library(skimr)
library(gtsummary)
library(ggsignif)

# Use a flexible route to the data file path
if (basename(getwd()) == "explore data") {
  path <- "../resources/data"
} else if (basename(getwd()) == "MLB-rule-changes") {
  path <- "resources/data"
} else {print("Failed to set path")}
```

## Results

### Base stealing encouragements

### Extra-innings baserunner

### Pitch clock

### Universal designated hitter

### Defensive shift ban

### 3-batter minimum

```{r}
#| code-summary: Data
#| message: false

# Get pitcher appearances and changes
df_appearances <- read_csv(file.path(path, "pitcher_appearances.csv"))
df_changes <- read_csv(file.path(path, "pitcher_changes.csv"))

# Change name for Cleveland to the Guardians
df_appearances <- mutate(df_appearances, team_name = ifelse(
  endsWith(team_name, "Indians"),
  "Cleveland Guardians",
  team_name
))

# Count pitching changes per game by year
tbl_n_per_game_yearly <- 
  df_appearances |>
  group_by(game_id, year) |>
  summarise(n = n(), .groups = "drop") |>
  
  # Add indication of rule change and change year to a factor
  mutate(
    rule_change = factor(ifelse(year < 2020, FALSE, TRUE), levels = c("TRUE", "FALSE")),
    year = factor(year)
  )

# Define colors for plots
dodger_red <- "#EF3E42"
dodger_blue <- "#005A9C"
```

```{r}
#| code-summary: Test

# t test with factorization to define difference direction
ttest_pitching_changes <- t.test(n ~ rule_change, data = tbl_n_per_game_yearly)
```

```{r}
#| include: false

# Environemnt variables for pitching change t tests
ttest_pitching_change_estimate <- unname(round(
  ttest_pitching_changes[["estimate"]][1] - ttest_pitching_changes[["estimate"]][2],
  1
))

ttest_pitching_change_ci <- sprintf(
  '%.2f to %.2f',
  ttest_pitching_changes[['conf.int']][1],
  ttest_pitching_changes[['conf.int']][2]
)
```

With a three-batter minimum, the Left-handed One-Out Guy (LOOGY) and other specialty roles were mostly eliminated. Fewer short-term pitchers should have led to fewer pitchers used in a game, though the change was barely noticeable throughout each season (@fig-pitchers). In fact, there was a very slight increase. The mean number of pitchers used per game was `r ttest_pitching_change_estimate` higher after the 2020 rule change (95% CI: `r ttest_pitching_change_ci`. @tbl-pitchers).

```{r}
#| code-summary: Plot
#| fig-cap: Boxplot summary of pitcher appearances during games from years 2014-2024.
#| label: fig-pitchers

# Plot pitchers per game per year
ggplot(tbl_n_per_game_yearly, aes(x = year, y = n, fill = rule_change)) +
  geom_boxplot(outlier.alpha = 0.2, alpha = 0.75) +
  scale_fill_manual(
    values = c("FALSE" = dodger_red, "TRUE" = dodger_blue),
    labels = c("FALSE" = "No minimum", "TRUE" = "3-batter minimum")
  ) +
  scale_y_continuous(limits = c(0, 40), breaks = seq(0, 40, by = 10)) +
  theme(
    axis.title.y = element_text(angle=0, vjust = 0.5),
    legend.title = element_blank(),
    legend.position = "inside",
    legend.position.inside = c(0.87, 0.91)
  ) +
  labs(
    title = "Total pitchers per game by year",
    x = "Year",
    y = "Count"
  )
```

```{r}
#| code-summary: Table
#| tbl-cap: Mean pitcher appearances by year.
#| label: tbl-pitchers

tbl_n_per_game_yearly |>
  select(-rule_change) |>
  tidyr::pivot_wider(id_cols = game_id, names_from = year, values_from = n) |>
  gtsummary::tbl_summary(
    include = -game_id,
    missing = "no",
    statistic = everything() ~ "{mean} ± {sd}"
  ) |>
  gtsummary::modify_header(label = "**Year**")
```

```{r}
#| code-summary: Data

# Change name for Cleveland to the Guardians
df_changes <- mutate(df_changes, team_name = ifelse(
  endsWith(team_name, "Indians"),
  "Cleveland Guardians",
  team_name
))

# Count pitching changes per game by year
tbl_changes_per_game_yearly <- 
  df_changes |>
  group_by(game_id, year) |>
  summarise(n = n(), .groups = "drop") |>
  
  # Input games without a mid-inning pitching change
  mutate(event = TRUE) |>
  right_join(
    df_appearances |> select(game_id, year) |> distinct(),
    by = c("game_id", "year")
  ) |>
  mutate(n = ifelse(is.na(event), 0, n)) |>
  select(-event) |>
  
  # Add indication of rule change and change year to a factor
  mutate(
    rule_change = factor(ifelse(year < 2020, FALSE, TRUE), levels = c("TRUE", "FALSE")),
    year = factor(year)
  )
```

```{r}
#| code-summary: Test

# t test with factorization to define difference direction
ttest_mid_changes <- t.test(n ~ rule_change, data = tbl_changes_per_game_yearly)
```

```{r}
#| include: false

# Environemnt variables for pitching change t tests
ttest_mid_change_estimate <- unname(round(
  ttest_mid_changes[["estimate"]][1] - ttest_mid_changes[["estimate"]][2],
  1
))

ttest_mid_change_ci <- sprintf(
  '%.2f to %.2f',
  ttest_mid_changes[['conf.int']][1],
  ttest_mid_changes[['conf.int']][2]
)
```

A three-batter minimum should eliminate the opportunity to call in a pitcher for a single batter, which would decrease the number of pitching changes that occur in the middle of an inning. The number of mid-inning pitching changes decreased since 2020, but the magnitude was small (@fig-mid-inning). The mean number of mid-inning pitching changed by `r ttest_mid_change_estimate` after the 2020 rule change (95% CI: `r ttest_mid_change_ci`. @tbl-mid-inning).

```{r}
#| code-summary: Plot
#| fig-cap: Boxplot summary of mid-inning pitching changes during games from years 2014-2024.
#| label: fig-mid-inning

# Plot pitchers per game per year
ggplot(tbl_changes_per_game_yearly, aes(x = year, y = n, fill = rule_change)) +
  geom_boxplot(outlier.alpha = 0.2, alpha = 0.75) +
  scale_fill_manual(
    values = c("FALSE" = dodger_red, "TRUE" = dodger_blue),
    labels = c("FALSE" = "No minimum", "TRUE" = "3-batter minimum")
  ) +
  theme(
    axis.title.y = element_text(angle=0, vjust = 0.5),
    legend.title = element_blank(),
    legend.position = "inside",
    legend.position.inside = c(0.8, 0.91)
  ) +
  labs(
    title = "Total mid-inning pitching changes per game by year",
    x = "Year",
    y = "Count"
  )
```

```{r}
#| code-summary: Table
#| tbl-cap: Mean mid-inning pitching changes by year.
#| label: tbl-mid-inning

tbl_changes_per_game_yearly |>
  select(-rule_change) |>
  tidyr::pivot_wider(id_cols = game_id, names_from = year, values_from = n) |>
  gtsummary::tbl_summary(
    include = -game_id,
    missing = "no",
    statistic = everything() ~ "{mean} ± {sd}",
    digits = everything() ~ 1
  ) |>
  gtsummary::modify_header(label = "**Year**")
```

```{r}
#| code-summary: Data

tbl_changes_per_game_yearly <- 
  tbl_changes_per_game_yearly |>
  mutate(
  rule_change = factor(
    ifelse(rule_change == TRUE, "3-batter minimum", "No minimum"),
    levels = c("No minimum", "3-batter minimum")
  ),
  `1 pause` = ifelse(n > 0, TRUE, FALSE),
  `≥2 pauses` = ifelse(n > 1, TRUE, FALSE),
  `≥3 pauses` = ifelse(n > 2, TRUE, FALSE)
)
```

```{r}
#| include: false

pauses <- 
  
  # Summarize various counts of mid-inning pauses by rule in place
  tbl_changes_per_game_yearly |>
  group_by(rule_change) |>
  summarise(
    pause_01 = mean(`1 pause`),
    pause_02 = mean(`≥2 pauses`),
    pause_03 = mean(`≥3 pauses`)
  ) |>
  
  # Wrangle into a named list
  tidyr::pivot_longer(cols = -rule_change) |>
  tidyr::pivot_wider(names_from = rule_change, values_from = value) |>
  mutate(diff = paste0(round((`3-batter minimum` - `No minimum`) * 100, 1), "%")) |>
  select(name, diff) |>
  tibble::deframe()
```

A mid-inning pitching change would add a pause in play that was not already scheduled, such as pauses in between innings. Games with such pauses were slightly less frequent after the 3-batter minimum implementation(@fig-pauses). The differences in proportions of games with pauses in play due to mid-inning pitching changes were `r pauses[["pause_01"]]` for games with any added pauses, `r pauses[["pause_02"]]` for games with at least 2 pauses, and `r pauses[["pause_03"]]` for games with at least 3 pauses (@tbl-pauses).

```{r}
#| code-summary: Plot
#| fig-cap: Bar chart of pauses in play due to mid-inning pitching changes before and after rule change.
#| label: fig-pauses

# Wrangle data for plot
tbl_changes_per_game_yearly |>
  pivot_longer(
    cols = c(`1 pause`, `≥2 pauses`, `≥3 pauses`),
    names_to = "pause_type",
    values_to = "is_true"
  ) |>
  mutate(pause_type = factor(pause_type, levels = c(
    "1 pause", "≥2 pauses", "≥3 pauses"
  ))) |>
  group_by(rule_change, pause_type) |>
  summarise(proportion = mean(is_true), .groups = "drop") |>
  
  # Plot
  ggplot(aes(x = pause_type, y = proportion, fill = rule_change)) +
  geom_bar(stat = "identity", position = "dodge", alpha = 0.75, color = "gray10") +
  
  # Significance lines
  geom_signif(
    y_position = c(0.93, 0.68, 0.41),
    xmin = c(0.75, 1.75, 2.75), 
    xmax = c(1.25, 2.25, 3.25),
    annotation = c("*", "***", "***"),
    tip_length = 0
  ) +
  
  # Format
  scale_y_continuous(limits = c(0, 1)) +
  scale_fill_manual(values = c(
    "No minimum" = dodger_red,
    "3-batter minimum" = dodger_blue
  )) +
  theme(
    legend.title = element_blank(),
    legend.position = "inside",
    legend.position.inside = c(0.8, 0.91),
    axis.title = element_blank()
  ) +
  labs(
    title = "Proportion of games with pauses in play because of mid-inning pitching changes",
    caption = "*p<.05\n***p<.001"
  )
```

```{r}
#| code-summary: Table
#| tbl-cap: Count and proportions of games with various numbers of pauses in play due to mid-inning pitching changes.
#| label: tbl-pauses

# Test result by rule change
gtsummary::tbl_summary(
  data = tbl_changes_per_game_yearly,
  include = matches("pause(s)?$"),
  by = rule_change
) |>
  gtsummary::modify_header(label = "**Mid-inning pauses**") |>
  gtsummary::modify_spanning_header(all_stat_cols() ~ "**Rule in place**") |>
  gtsummary::add_p()
```

## References
